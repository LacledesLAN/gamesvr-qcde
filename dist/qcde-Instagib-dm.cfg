//
// InstaGib Deathmatch Configuration for QC:DE
//
// Originally based on github.com/tonytonyistony/Zandronum-Server-Config-Example/blob/main/Zandronum-Server-Config-Example.cfg
//
// Deathmatch where everyone spawns with a railgun, with no other items spawning. The railgun is powerful enough that in one
// hit, it will instantly kill you with so much damage that you are gibbed (hence "instagib".)
//


echo ""
echo "/=====================================\"
echo "| Configuring for InstaGib Deathmatch |"
echo "\=====================================/"
echo ""


//Server contact info
sv_hostname "QC:DE Deathmatch Instagib"
sv_hostemail "no@no.com"
sv_website ""
sv_country "automatic"

//anti cheat
sv_pure true //If set, the server uses an authentication mechanism to ensure clients have the correct WADs. Even without this CVar set, the map is always verified. A server host should have no reason to disable this CVar aside of LAN play or testing.

//Gamemodes
deathmatch 1
duel 0
lastmanstanding 0
teamplay 0
teamlms 0
domination 0
skulltag 0
ctf 0
instagib 1
rocketarena 0
buckshot 0
cooperative 0
survival 0
invasion 0
qc_elderssoul 0
qc_freezetag 0

//QC:DE varibles
sv_qcdepowerups 1 //Controls spawning Power-ups in PvP.
sv_qcdebfg 1 //Controls spawning BFG10K in PvP.  0=never 1=always
sv_showitemtimers 1 //Shows item respawn timers like in Quake Live & Quake Champions, excluding Duels.
sv_showstackleft 1 // Displays your killer's remaining stack like in QC, excluding in Duels, where it is enabled through sv_showStackLeftInDuels (true / false).

//DMFLAGS See https://www.zdoom.org/wiki/DMFlags https://zdoom.org/wiki/Zandronum:_DMFlags
dmflags 0
dmflags2 0
dmflags3 0
zadmflags 0 // https://zdoom.org/wiki/Zandronum:_DMFlags#ZaDMFlags
compatflags 0 // https://zdoom.org/wiki/Zandronum:_DMFlags#CompatFlags

//game rules
botskill 2
skill 2 // Sets the difficulty of the overall game when monsters are present. This CVar is usually is intended for cooperative based games. Co-op modes 0 = Im too young to die, 1 = Hey, not too rough, 2 = Hurt me plenty, 3 = Ultra-Violence, 4 = Nightmare!, 5 = Black Metal (Brutal Doom ONLY)
fraglimit 30 //Frag Limit - Applies to Deathmatch, Terminator and Duel When the value is greater than zero, players in a Deathmatch related game mode must reach the FragLimit quota.
timelimit 10 // Time Limit - Applies to Deathmatch, Terminator, Possession, LMS, CTF, Skulltag, Duel and Domination  When set, the players within the game have a certain amount of minutes to complete the game. This CVar works mainly for competitive game modes, omitting cooperative game modes.
pointlimit 5 // Points Limit - Applies to Possession, CTF, Skulltag and Domination This sets how many points are needed in order to win the game. This CVar is mainly used for CTF and SkullTag game modes.
winlimit 5 // LMS Win Limit When a value is greater than zero, players or teams in the Last Man Standing game mode will have a certain amount of wins to accomplish before advancing into the next map.

sv_maxlives 0 // Max Lives - Applies to LMS, Survival and Invasion Lives In LMS, survival, and invasion the default value of 0 is intepreted as one life.  In invasion, setting this variable above 0 will cause the game to become survival invasion, setting it to 0 results in normal invasion with unlimited lives.
sv_maxteams 2 // Maximum amount of teams allowed. This CVar can be increased to allow 3 or 4 team matches. However, this only works if the map supports as many teams as desired.
sv_useteamstartsindm true // If set, team starts will be used as possible deatmatch starts in deathmatch gamemodes with teams. (TDM, TLMS)

buckshot false // This modifier restricts players to use only the Super Shotgun. Fast paced close combat is guaranteed.
instagib true //A modifier that causes everyone to spawn with a railgun, with no other items spawning.

teamdamage 0.00 //friendly fire 0.00 means friendly fire disabled, 1.00 means full team damage, 0.50 is half damage etc.
switchonpickup 0 // When toggled, the player can either never automatically switch weapons on pickup, switch if the weapon is higher ranked, or always switch. 0 = Never, 1 = Only Higher Ranked, 2 = Always
sv_respawndelaytime 2  // How long a player must wait (in seconds) after dying before they can respawn. This doesnt apply to players who are spawn telefragged.
sv_defaultdmflags true //Default rulesets for (CTF, skulltag, one-flag CTF, etc), these flags are: weapons stay, items respawn, no monsters, no crouching, double ammo.
sv_nodrop false // If set, clients may not  drop items. Items may never be dropped in duels.
sv_suddendeath false //When the time limit is hit and all teams have the same amount of score, this CVar causes sudden death to commence. he first team to score wins the game no matter what the pointlimit is set to.If unset, the game ends immediately once the timelimit hits and if teams have the same amount of score, the match is declared a draw.

sv_flagreturntime 30 //CTF How long will a flag or skull remain on the ground when dropped before it is automatically returned back to its original position.
duellimit 5 //DUEL When set to a value greater than zero, the server will go to the next map after the duel limit quota has been reached.

//logs
sv_logfile_append true  //Append: If a logfile with the exact same name is present, the server will merely add into the log file without over writing the previous logfile.
sv_logfilenametimestamp true //Name Timestamp: When generating a new log file, the server will append the time and date to the end of the logfile name.
sv_logfiletimestamp true // Entry Timestamp: The server logfile is written containing time stamps at every new line. This does not affect the server console.
sv_logfiletimestamp_usedate true //Entry Timestamp+Date: The current date will be prepended to the per-line timestamp of the logfile in the format of "YY:MM:DD".
sv_markchatlines true //All chat messages within the server console contain a CHAT tag before the typed message from the clients. This can be very useful for reading the logfiles or for making bots that parse chat messages.
sv_queryignoretime 15 // Server browsers query the servers on the master list for information such as ping, players, game settings, WADs used, etc. This CVar defines a flood throttle for this - a launcher client may not query the server again for this many seconds. This can help prevent DDoS attacks.
sv_showlauncherqueries true //If set, this CVar will display the IPs of clients quering the server. These clients are not joining the game, this is the server browser quering the servers for information. This CVar can be useful for debugging whether the server is on the master and whether clients can connect to it.
sv_showwarnings false // If set to true, some certain warning messages are shown. May cause flooding the log for certain mods and should only be used for debugging purposes.
sv_timestamp true // When true, the server console will contain a timestamp for all messages within the server console.
sv_timestampformat 0 // Formatting option for sv_timestamp:  0 = HOURS:MINUTES:SECONDS (24 Hour Format) (default) 1 = HOURS:MINUTES:SECONDS AM/PM  2 = HOURS:MINUTES:SECONDS am/pm 3 = HOURS:MINUTES (24 Hour Format) 4 = HOURS:MINUTES AM/PM 5 = HOURS:MINUTES am/pm
crashlogs  2 // 0 = Crashdump files are not generated, 1 = Crash dialog window is displayed, 2 = Crashdump files are generated within a specific directory that is defined in the CrashLog_Dir
crashlog_dir "/logs/" //Crashlog location

//bots
botskill 3 // Changes the skill level of the Zandronum bots.  0 = Easiest, 1 = Easy, 2 = Average. 3 = Hard, 4 = Nightmare

//NETWORK INFO
sv_broadcast true // Whether the server will broadcast to the local area network.
sv_updatemaster false // If set, the server will identify itself to the master server and is broadcasted in the server list. If this variable is false, the server will remain private
masterhostname "master.zandronum.com" // Sets the value for sending discoverable packets to the Zandronum Master Server. When the individual server or clusters of servers are publicly available to the Zandronum player base (whether official or another community), this sends a discovery packet to the server along with other information and notifies that the server(s) are available. Official Zandronum Master Server: master.zandronum.com

//Max/mininum players
sv_maxclients 64  //The server only allows this many clients to connect to the server. If the server is full, any new clients will not be able to connect.
sv_maxplayers 32  //This many players can join the game, the rest are forced to spectate. Compare sv_maxclients. The same logic for the default also applies.
sv_maxpacketsize 1024 // How much data, in bytes, can be stored in an UDP packet. If packet size is small while network usage is high, this can cause the server to overload during transmissions of the small packets.  However, if the packet size is too large, newly connecting clients may not be able to process the packets quickly enough.


//voting
sv_minvoters 2 // How many players are needed in the server in order to call a vote.
sv_votecooldown 5 //Sets the cooldown between votes, in minutes. This stops players from flooding the server with votes.  If set to 0, the cooldown is disabled and a vote may be called immediately after a prior one.
sv_nocallvote 2 // This CVar allows to manage how votes take place. 0 = Voting Enabled (default), 1 = Voting disabled. 2 = Players only can vote.
sv_nochangemapvote false // Disables all Z changemap votes. However, map votes may still be called unless sv_nomapvote is set.
sv_noduellimitvote true //Disables all votes to change the duel limit.
sv_noflagvote false // Disables all DMFlag votes.
sv_nofraglimitvote false // Disables all votes to change the frag limit.
sv_nokickvote true true // Disables all votes to kick players.
sv_noforcespecvote false // Disables all votes to force players to Spec by voting.
sv_nomapvote true // Disables all Z map votes. However, changemap votes may still be called unless sv_nochangemapvote is set.
sv_nonextmapvote true // Disables all Z nextmap votes. However, nextsecret votes may still be called unless sv_nonextsecretvote is set.
sv_nopointlimitvote true // Disables all votes to change the point limit.
sv_notimelimitvote true // Disables all votes to change the time limit.
sv_nowinlimitvote true // Disables all votes to change the LMS win limit.






//Password settings and security

sv_forcepassword false //Whether clients must supply the correct password in order to connect to the server.
sv_password "" //Unlike the join password, clients cannot enter the server at all without the correct password, enforcing stricter privacy.
sv_forcejoinpassword false // Whether clients must supply a join password in order to join the game. Clients without the proper join password may still spectate freely.
sv_joinpassword ""

sv_maxclientsperip 4 //How many players with the same IP can enter the server.
sv_adminlistfile "adminlist.txt" //The admin list contains a list of IPs who are considered to be administrators on the server. Administrators can bypass the sv_maxclients limit and connect to the server even when its full (up to the maximum of 64). Additionally, these administrators cannot be issued votekicks on.
sv_banexemptionfile "whitelist.txt" //Defines a whitelist, a list of IPs exempt from bans, this allows server admins to let innocent people caught within range ban enter the server.
sv_banfile "banlist.txt" //Defines a blacklist, a list of banned IPs unwanted on the server. Anyone, whose IP is on this list, may not connect unless they are also on the whitelist.
sv_enforcebans true //Whether the banlist is actually enforced or not.
sv_limitcommands false //Enables/Disables the client commands flooding protection and prevents clients from Repeatedly using Commands over and over again. Setting this to false will disable all restrictions on commands and new commands may be used right after the previous ones.




//VOICECHAT development version 3.2-alpha and above only
sv_allowvoicechat 0 //Controls whether voice chat is enabled. 0 = Disabled, 1 = Allow All (default), 2 = Allow Team Only, 3 = Players and spectators chat separately.
sv_proximityvoicechat true //Voice chat proximity
sv_maxproximityrolloffdist 150 Controls the distance at which proximity voice chat is no longer audible.
sv_minproximityrolloffdist 150 Controls the distance at which proximity voice chat will begin rolling off (becoming quieter).


//Map settings
sv_randommaprotation true //If set, the server will randomize the map rotation list instead of advancing through maps in sequence. Only meaningful if sv_maprotation is set too.

addmap QCDE01
addmap QCDE02
addmap QCDE03
addmap QCDE04
addmap QCDE05
addmap QCDE06
addmap QCDE07
addmap QCDE08
addmap QCDE09
addmap QCDE10
addmap QCDE11
addmap QCDE12
addmap QCDE13
addmap QCDE14
addmap QCDE15
addmap QCDE16
addmap QCDE17
addmap QCDE18
addmap QCDE19
addmap QCDE20
addmap QCDE21
addmap QCDE22
addmap QCDE23
addmap QCDE24
addmap QCDE25
addmap QCDE26
addmap QCDE27
addmap QCDE28
addmap QCDE29
addmap QCDE30
addmap QCDE31
addmap QCDE32
addmap QCDE33
addmap QCDE34
addmap QCDE35
addmap QCDE36
addmap QCDE37
addmap QCDE38
addmap QCDE39
addmap QCDE40
addmap QCDE41
addmap QCDE42
addmap QCDE43
addmap QCDE44
addmap QCDE45
addmap QCDE46
addmap QCDE47
addmap QCDE48
addmap QCDE49
addmap QCDE50


// End of Setup
// =================================
LogFile "/app/logs/"; //Start logging the server from this point.
SV_HostName; //Print the HostName to the LogFile.
IP;
GameVersion; //Output the version of (G)ZDoom/Zandronum engine
Version_Info; //Outputs the Mercurial version
WADS;
Echo "Individual Server Configuration has reached end of file!";

